<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Invaders</title>
  <style type="text/css">
    * {
      margin: 0;
      border: 0;
    }

    canvas {
      background: black;
    }
  </style>
</head>

<body>
  <canvas></canvas>
  <script>
    /**
     *
     * @author oldhandmixer
     * Vector class to help making the particles simpler
     *
     */
    class PVector {
      constructor(x, y) {
        this.x = x;
        this.y = y;
      }

      add(v) {
        this.x += v.x;
        this.y += v.y;
      }

      add(v, u) {
        return (new PVector(v.x + u.x, v.y + u.y));
      }

      sub(v) {
        this.x -= v.x;
        this.y -= v.y;
      }

      sub(v, u) {
        return (new PVector(v.x - u.x, v.y - u.y));
      }

      static random2D() {
        angle = 2 * Math.PI * Math.random();
        return (new PVector(Math.cos(angle), Math.sin(angle)));
      }

      mult(n) {
        this.x *= n;
        this.y *= n;
      }

      div(n) {
        this.x /= n;
        this.y /= n;
      }

      mag() {
        return Math.sqrt(this.x * this.x + this.y * this.y);
      }

      dist(p) {
        dx = this.x - p.x;
        dy = this.y - p.y;
        return Math.sqrt(dx * dx + dy * dy);
      }

      normalize() {
        m = mag();
        if (m != 0) {
          div(m);
        }
      }

      limit(max) {
        if (mag() > max) {
          normalize();
          mult(max);
        }
      }
    }


    params = [
      "Number of particles",
      "(a1) X path center",
      "(b1) Y path center",
      "(a2) X path radius",
      "(b2) Y path radius",
      "(dt1) path rotation velocity",
      "(du1) path rotation phase",
      "(dt2) path rotation velocity",
      "(pss) Particle start random",
      "(psc) Particle start const",
      "(pbf) Partice burnout factor",
      "(psa) Partice start angle",
      "(psdo1) Partice start angle tick 1",
      "(psdo2) Partice start angle tick 2",
      "(psv) Particle start velocity",
      "Shape",
      "Exit!"];

    function initStjerner() {
    }

    function loop() {
      gc.clearRect(0, 0, screen.width, screen.height);
      gc.strokeStyle = "rgb(255,255,255)";
      gc.lineWidth = 0.53;
      gc.strokeRect(100, 100, 2000, 1500);

      gc.fillStyle = "rgb(255,255,255)";
      gc.fillRect(200, 200, 100, 100);
    }

    function mouseDown(e) {
      var xxx = e.clientX;
      var yyy = e.clientY;
    }

    function mouseUp(e) {
    }

    function mouseMove(e) {
      //mx = e.clientX;
      //my = e.clientY;

    }

    console.log("Hello:" + screen.width + ", " + screen.height);
    var tick = 0;
    const canvas = document.querySelector("canvas");
    canvas.width = screen.width;
    canvas.height = screen.height;
    const gc = canvas.getContext("2d");
    initStjerner();
    canvas.addEventListener("mousedown", mouseDown);
    canvas.addEventListener("mouseup", mouseUp);
    canvas.addEventListener("mousemove", mouseMove);
    window.setInterval(loop, 20);
  </script>
</body>

</html>